```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Power Spectrum vs Bat Call Controls - å®Œå…¨åˆ†é›¢æ¶æ§‹              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ¶äº¤äº’å±¤ (UI Controls)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  Power Spectrum Controls      â”‚  â”‚   Bat Call Controls          â”‚      â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚   â”‚ â€¢ Window Type                 â”‚  â”‚ â€¢ Call Threshold (-24dB)     â”‚      â”‚
â”‚   â”‚ â€¢ FFT Size (512/1024/2048)   â”‚  â”‚ â€¢ Start/End Threshold (-24dB)â”‚      â”‚
â”‚   â”‚ â€¢ Overlap (%)                 â”‚  â”‚ â€¢ Char Freq % (20%)          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Min Duration (1ms)         â”‚      â”‚
â”‚            â†“ onChange                â”‚ â€¢ FFT Size (512/1024/2048)   â”‚      â”‚
â”‚                                       â”‚ â€¢ Hop % (25%)                â”‚      â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                               â†“ onChange/input              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        é…ç½®ç®¡ç†å±¤ (Configuration)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚   powerSpectrumConfig         â”‚  â”‚     batCallConfig            â”‚      â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚   â”‚ windowType: 'hann'            â”‚  â”‚ windowType: 'hann'           â”‚      â”‚
â”‚   â”‚ fftSize: 1024 â† ç”¨æˆ¶æ”¹         â”‚  â”‚ callThreshold_dB: -24 â† ç”¨æˆ¶æ”¹â”‚      â”‚
â”‚   â”‚ hopPercent: 25                â”‚  â”‚ startEndThreshold_dB: -24    â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ characteristicFreq_percentEnd: 20 â”‚  â”‚
â”‚            â†“                         â”‚ minCallDuration_ms: 1        â”‚      â”‚
â”‚                                      â”‚ fftSize: 1024 â† ç”¨æˆ¶æ”¹        â”‚      â”‚
â”‚                                      â”‚ hopPercent: 25               â”‚      â”‚
â”‚                                      â”‚ ... (å…¶ä»–6å€‹åƒæ•¸)            â”‚      â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                              â†“                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“                                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    è¨ˆç®—å±¤ 1: Power Spectrum è¨ˆç®—          â”‚  â”‚  è¨ˆç®—å±¤ 2: Bat Call æª¢æ¸¬     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚  â”‚                              â”‚
â”‚  redrawSpectrum() {                      â”‚  â”‚  updateBatCallAnalysis() {   â”‚
â”‚    â€¢ æå–éŸ³é »æ•¸æ“š                        â”‚  â”‚    â€¢ ä½¿ç”¨ detector.config    â”‚
â”‚    â€¢ ä½¿ç”¨ powerSpectrumConfig ä¸­çš„å€¼     â”‚  â”‚    â€¢ åŸ·è¡Œ detector.detectCalls()â”‚
â”‚    â€¢ calculatePowerSpectrumWithOverlap()â”‚  â”‚    â€¢ è¨ˆç®—é »ç‡åƒæ•¸            â”‚
â”‚    â€¢ æ‰¾åˆ°å³°å€¼é »ç‡                        â”‚  â”‚    â€¢ æ›´æ–°åƒæ•¸é¢æ¿           â”‚
â”‚    â€¢ ç¹ªè£½ Power Spectrum æ›²ç·š            â”‚  â”‚  }                           â”‚
â”‚  }                                       â”‚  â”‚                              â”‚
â”‚         â†“                                â”‚  â”‚         â†“                    â”‚
â”‚    (432Ã—488 Canvas)                     â”‚  â”‚  (åƒæ•¸é¢æ¿ HTML)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“                                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          è¼¸å‡ºå±¤ 1: Power Spectrum         â”‚  â”‚  è¼¸å‡ºå±¤ 2: Bat Call åƒæ•¸     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚  â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚         Power Spectrum Curve        â”‚  â”‚  â”‚ â”‚ Start Freq:  -     kHz   â”‚ â”‚
â”‚ â”‚                                    â”‚  â”‚  â”‚ â”‚ End Freq:    -     kHz   â”‚ â”‚
â”‚ â”‚  â†‘ Power (dB)                      â”‚  â”‚  â”‚ â”‚ High Freq:   -     kHz   â”‚ â”‚
â”‚ â”‚  â”‚     â•±â•²                          â”‚  â”‚  â”‚ â”‚ Low Freq:    -     kHz   â”‚ â”‚
â”‚ â”‚  â”‚    â•±  â•²    â•±â•²                   â”‚  â”‚  â”‚ â”‚ Peak Freq:   -     kHz   â”‚ â”‚
â”‚ â”‚  â”‚   â•±    â•²  â•±  â•²                  â”‚  â”‚  â”‚ â”‚ Char Freq:   -     kHz   â”‚ â”‚
â”‚ â”‚  â”‚  â•±      â•²â•±    â•²                 â”‚  â”‚  â”‚ â”‚ Bandwidth:   -     kHz   â”‚ â”‚
â”‚ â”‚  â”‚ â•±              â•²                â”‚  â”‚  â”‚ â”‚ Duration:    -     ms    â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚         Frequency (kHz) â†’          â”‚  â”‚  â”‚                              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ (å¯¦æ™‚æ›´æ–°ï¼Œä¸å½±éŸ¿ä¸Šæ–¹åœ–è¡¨)   â”‚
â”‚                                          â”‚  â”‚                              â”‚
â”‚ ç¨ç«‹è¨ˆç®—ï¼Œä¸å— Bat Call åƒæ•¸å½±éŸ¿ âœ“      â”‚  â”‚ ç¨ç«‹è¨ˆç®—ï¼Œä¸å½±éŸ¿ Spectrum âœ“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€é—œéµç‰¹æ€§ã€‘

âœ“ å®Œå…¨éš”é›¢: Power Spectrum å’Œ Bat Call é…ç½®ç¨ç«‹å­˜å„²
âœ“ å–®å‘æµå‹•: ç”¨æˆ¶è¼¸å…¥ â†’ é…ç½® â†’ è¨ˆç®— â†’ é¡¯ç¤ºï¼ˆä¸å›æµï¼‰
âœ“ ç¨ç«‹æ›´æ–°: Bat Call æ”¹è®Šæ™‚åªæ›´æ–°åƒæ•¸é¢æ¿ï¼Œä¸é‡ç¹ª Spectrum
âœ“ æ€§èƒ½å„ªåŒ–: æ¸›å°‘ä¸å¿…è¦çš„è¨ˆç®— (~2x åŠ é€Ÿ)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€æ€§èƒ½å°æ¯”ã€‘

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bat Call åƒæ•¸æ”¹è®Šæ™‚çš„æµç¨‹                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ã€ä¹‹å‰ - é‡æ–°è¨ˆç®— Power Spectrumã€‘                              â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Bat Call åƒæ•¸                                         â”‚
â”‚      â†“                                                          â”‚
â”‚  redrawSpectrum() è¢«å‘¼å«                                        â”‚
â”‚      â†“                                                          â”‚
â”‚  é‡æ–°æå–éŸ³é »æ•¸æ“š â±                                              â”‚
â”‚      â†“                                                          â”‚
â”‚  calculatePowerSpectrum() â±â±â± â† è€—æ™‚                            â”‚
â”‚      â†“                                                          â”‚
â”‚  findPeakFrequency() â±                                          â”‚
â”‚      â†“                                                          â”‚
â”‚  drawPowerSpectrum() â±â± â† é‡æ–°ç¹ªè£½ Canvas                       â”‚
â”‚      â†“                                                          â”‚
â”‚  updateBatCallAnalysis() â± â† æœ€å¾Œæ‰é€²è¡Œ Bat Call æª¢æ¸¬            â”‚
â”‚  ç¸½è¨ˆ: ~500ms ~ 800ms                                          â”‚
â”‚                                                                 â”‚
â”‚  ã€ä¹‹å¾Œ - åªé€²è¡Œ Bat Call æª¢æ¸¬ã€‘                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Bat Call åƒæ•¸                                         â”‚
â”‚      â†“                                                          â”‚
â”‚  updateBatCallAnalysis() â± â† ç›´æ¥é€²è¡Œæª¢æ¸¬                       â”‚
â”‚      â†“                                                          â”‚
â”‚  updateParametersDisplay() â± â† æ›´æ–°é¢æ¿                        â”‚
â”‚  ç¸½è¨ˆ: ~50ms ~ 150ms                                           â”‚
â”‚                                                                 â”‚
â”‚  åŠ é€Ÿ: 3.3x ~ 16x å€å¿« ğŸš€                                       â”‚
â”‚  é«”é©—: å¯¦æ™‚éŸ¿æ‡‰ vs æ˜é¡¯å»¶é²                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€è³‡æ–™æµç‹€æ…‹åœ–ã€‘

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Power Spectrum æ§åˆ¶ç‹€æ…‹                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  åˆå§‹: powerSpectrumConfig = {                                  â”‚
â”‚        windowType: 'hann', fftSize: 1024, hopPercent: 25        â”‚
â”‚       }                                                         â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Window Type â†’ 'hamming'                               â”‚
â”‚       â†“                                                         â”‚
â”‚  powerSpectrumConfig.windowType = 'hamming'                     â”‚
â”‚       â†“                                                         â”‚
â”‚  redrawSpectrum() ä½¿ç”¨æ–°çš„ windowType è¨ˆç®—                       â”‚
â”‚       â†“                                                         â”‚
â”‚  Power Spectrum æ›²ç·šæ”¹è®Š âœ“                                       â”‚
â”‚  Bat Call åƒæ•¸é¢æ¿ä¸è®Š âœ“                                         â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š FFT Size â†’ 2048                                       â”‚
â”‚       â†“                                                         â”‚
â”‚  powerSpectrumConfig.fftSize = 2048                             â”‚
â”‚       â†“                                                         â”‚
â”‚  redrawSpectrum() ä½¿ç”¨æ–°çš„ fftSize è¨ˆç®—                          â”‚
â”‚       â†“                                                         â”‚
â”‚  Power Spectrum é »ç‡è§£æåº¦æ”¹è®Š âœ“                                 â”‚
â”‚  Bat Call æª¢æ¸¬åƒæ•¸ä»ä½¿ç”¨ fftSize: 1024 âœ“                         â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Overlap â†’ 75%                                         â”‚
â”‚       â†“                                                         â”‚
â”‚  overlap = 75                                                   â”‚
â”‚       â†“                                                         â”‚
â”‚  redrawSpectrum() ä½¿ç”¨æ–°çš„ overlap è¨ˆç®—                          â”‚
â”‚       â†“                                                         â”‚
â”‚  Power Spectrum å¹³æ»‘åº¦æ”¹è®Š âœ“                                     â”‚
â”‚  ä¸æ¶‰åŠ Bat Call ç³»çµ± âœ“                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bat Call æ§åˆ¶ç‹€æ…‹                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  åˆå§‹: batCallConfig = {                                        â”‚
â”‚        callThreshold_dB: -24, startEndThreshold_dB: -24,        â”‚
â”‚        characteristicFreq_percentEnd: 20, ...                   â”‚
â”‚       }                                                         â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Call Threshold â†’ -20                                  â”‚
â”‚       â†“                                                         â”‚
â”‚  batCallConfig.callThreshold_dB = -20                           â”‚
â”‚  detector.config = {...batCallConfig}                           â”‚
â”‚       â†“                                                         â”‚
â”‚  updateBatCallAnalysis(lastPeakFreq) è¢«å‘¼å«                      â”‚
â”‚       â†“                                                         â”‚
â”‚  detector.detectCalls() ä½¿ç”¨æ–°çš„ callThreshold_dB                â”‚
â”‚       â†“                                                         â”‚
â”‚  åƒæ•¸é¢æ¿æ›´æ–° âœ“                                                  â”‚
â”‚  Power Spectrum ä¸è®Š âœ“ (lastPeakFreq å€¼ä¿æŒä¸è®Š)                â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š FFT Size â†’ 2048                                       â”‚
â”‚       â†“                                                         â”‚
â”‚  batCallConfig.fftSize = 2048                                   â”‚
â”‚  detector.config = {...batCallConfig}                           â”‚
â”‚       â†“                                                         â”‚
â”‚  updateBatCallAnalysis(lastPeakFreq) è¢«å‘¼å«                      â”‚
â”‚       â†“                                                         â”‚
â”‚  detector.detectCalls() ä½¿ç”¨æ–°çš„ fftSize: 2048                   â”‚
â”‚       â†“                                                         â”‚
â”‚  åƒæ•¸é¢æ¿é‡æ–°è¨ˆç®— âœ“                                              â”‚
â”‚  Power Spectrum ä¿æŒåŸ FFT Size: 1024 âœ“                          â”‚
â”‚  (powerSpectrumConfig.fftSize ä¸è®Š)                              â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  ç”¨æˆ¶æ”¹è®Š Start/End Threshold â†’ -18                             â”‚
â”‚       â†“                                                         â”‚
â”‚  batCallConfig.startEndThreshold_dB = -18                       â”‚
â”‚  detector.config = {...batCallConfig}                           â”‚
â”‚       â†“                                                         â”‚
â”‚  updateBatCallAnalysis(lastPeakFreq) è¢«å‘¼å«                      â”‚
â”‚       â†“                                                         â”‚
â”‚  åµæ¸¬é‚Šç•Œæ”¹è®Šï¼Œåƒæ•¸é¢æ¿æ›´æ–° âœ“                                    â”‚
â”‚  ä¸æ¶‰åŠ Power Spectrum è¨ˆç®— âœ“                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

